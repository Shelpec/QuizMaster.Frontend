@use "sass:map";
@use "sass:color";

// Переменные для светлой темы
$light-theme: (
  background-color: #e7e7e7,
  text-color: #212529,
  secondary-bg: #dbdbdb,
  border-color: #2f2f2f,
  primary-color: #0d6efd,
  success-color: #198754,
  danger-color: #dc3545,
  warning-color: #ffc107,
  info-color: #0dcaf0,
  header-bg: #e9ecef,
  modal-backdrop: rgba(0, 0, 0, 0.4)
);

// Переменные для темной темы
$dark-theme: (
  background-color: #2f2f2f,
  text-color: #e9ecef,
  secondary-bg: #3b3b3b,
  border-color: #495057,
  primary-color: #0a58ca,
  success-color: #248759,
  danger-color: #b02a37,
  warning-color: #ca9a04,
  info-color: #087990,
  header-bg: #343a40,
  modal-backdrop: rgba(255, 255, 255, 0.1)
);

// Общий миксин для применения темы
@mixin apply-theme($theme) {
  background-color: map.get($theme, background-color);
  color: map.get($theme, text-color);

  // Главный контейнер
  .container {
    background-color: map.get($theme, background-color);
    color: map.get($theme, text-color);
  }

  // Карточки (Test List, Questions List, Start Test)
  .card {
    background-color: map.get($theme, secondary-bg);
    border-color: map.get($theme, border-color);
    color: map.get($theme, text-color);
  }

  // Элементы списка (Test List, Questions List, UserTestHistory)
  .list-group-item {
    background-color: map.get($theme, secondary-bg);
    border-color: map.get($theme, border-color);
    color: map.get($theme, text-color);
  }

  // Фон и текст модального окна
  .modal-content {
    background-color: map.get($theme, secondary-bg);
    border-color: map.get($theme, border-color);
    color: map.get($theme, text-color);
  }

  // Заголовок модального окна
  .modal-header {
    background-color: map.get($theme, header-bg);
    border-bottom-color: map.get($theme, border-color);
  }

  // Инпуты и селекты
  .form-control,
  .form-select {
    background-color: map.get($theme, secondary-bg);
    border-color: map.get($theme, border-color);
    color: map.get($theme, text-color);
  }

  // Подсветка активного инпута
  .form-control:focus {
    background-color: map.get($theme, secondary-bg);
    color: map.get($theme, text-color);
    border-color: map.get($theme, primary-color);
  }

  // Фон заголовков и подсветка
  .bg-light {
    background-color: map.get($theme, secondary-bg) !important;
    color: map.get($theme, text-color) !important;
  }

  .text-bg-dark {
    background-color: color.scale(map.get($theme, secondary-bg), $lightness: -10%) !important;
    color: map.get($theme, text-color) !important;
  }

  // Подсветка границ
  .border {
    border-color: map.get($theme, border-color) !important;
  }

  // Подсветка текста (Test List, Questions List)
  .text-muted {
    color: color.adjust(map.get($theme, text-color), $lightness: 20%) !important;
  }

  // Подсветка правильных / неправильных ответов
  .selected-correct {
    background-color: #28a74530; // Прозрачный зеленый фон
    color: #28a745;
    border-radius: 5px;
    padding: 2px 5px;
  }

  .selected-wrong {
    background-color: #dc354530;
    color: #dc3545;
    border-radius: 5px;
    padding: 2px 5px;
  }
}

// Применяем тему
.light-theme {
  @include apply-theme($light-theme);
}

.dark-theme {
  @include apply-theme($dark-theme);
}

// Основные стили
body {
  transition: background-color 0.3s, color 0.3s;
  min-height: 100vh;
}

.modal-backdrop {
  background-color: var(--modal-backdrop);
}
.logo {
  background-image: url('/assets/logo.png');  /* Добавлен / перед assets */
  background-size: contain;
  background-repeat: no-repeat;
  width: 150px;
  height: 50px;
  display: block;
}
